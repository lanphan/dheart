version: "3.9"
services:
  dheart0:
    image: dheart
    expose:
      - 28300
    ports:
      - 5678:5678
    restart: on-failure
    volumes:
      - ./dheart0.toml:/root/dheart.toml
    networks:
      dheart_net:
        ipv4_address: 192.170.10.2
  dheart1:
    image: dheart
    expose:
      - 28300
    ports:
      - 5679:5678
    restart: on-failure
    volumes:
      - ./dheart1.toml:/root/dheart.toml
    networks:
      dheart_net:
        ipv4_address: 192.170.10.3

networks:
  dheart_net:
    driver: bridge
    ipam:
      driver: default
      config:
        - subnet: 192.170.10.0/16
